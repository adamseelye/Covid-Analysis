@import helper._
@(states: StateSeries, country: String, column: String, order: String, page: Int, pages: Int)(implicit request: RequestHeader)

@common.layout(country + " - States"){
  @common.message(request.flash, "Showing States for " + country)
  <div class="container">
    <div class="row">
      <div class="col-3 bold">
        <h5 class="text-center">
          @if(column == "State" && order == "ASC"){
            <a href="/country/states/@country/State/DESC/0">
              State
            </a>
          }else{
            <a href="/country/states/@country/State/ASC/0">
              State
            </a>
          }
        </h5>
      </div>
      <div class="col-3 bold">
        <h5 class="text-center">
          @if(column == "Confirmed" && order == "ASC"){
            <a href="/country/states/@country/Confirmed/DESC/0">
              Confirmed
            </a>
          }else{
            <a href="/country/states/@country/Confirmed/ASC/0">
              Confirmed
            </a>
          }
        </h5>
      </div>
      <div class="col-3 bold">
        <h5 class="text-center">
          @if(column == "Recovered" && order == "ASC"){
            <a href="/country/states/@country/Recovered/DESC/0">
              Recovered
            </a>
          }else{
            <a href="/country/states/@country/Recovered/ASC/0">
              Recovered
            </a>
          }
        </h5>
      </div>
      <div class="col-3 bold">
        <h5 class="text-center">
          @if(column == "Deaths" && order == "ASC"){
            <a href="/country/states/@country/Deaths/DESC/0">
              Deaths
            </a>
          }else{
            <a href="/country/states/@country/Deaths/ASC/0">
              Deaths
            </a>
          }
        </h5>
      </div> 
    </div>
    @for(state <- states.datapoints){
      <div class="row">
        <div class="col-3">
          @if(state.state == ""){
            UNSPECIFIED
          }else{
            @state.state
          }
        </div>
        <div class="col-3">
          <div class="row">
            <div class="col-6 text-end">
              <a href="/test/state/@country/@state.state/confirmed">
                @state.confirmed
              </a>
            </div>
            <div class="col-6">
              @if(state.confirmed != 0){
                <a href="/graph/state/@country/@state.state/Confirmed">
                  @icons.graph()
                </a>
              }
            </div>
          </div>
        </div>
        <div class="col-3">
          <div class="row">
            <div class="col-6 text-end">
              <a href="/test/state/@country/@state.state/recovered">
                @state.recovered
              </a>
            </div>
            <div class="col-6">
              @if(state.recovered != 0){
                <a href="/graph/state/@country/@state.state/Recovered">
                  @icons.graph()
                </a>
              }
            </div>
          </div>
        </div>

        <div class="col-3">
          <div class="row">
            <div class="col-6 text-end">
              <a href="/test/state/@country/@state.state/deaths">
                @state.deaths
              </a>
            </div>
            <div class="col-6">
              @if(state.deaths != 0){
                <a href="/graph/state/@country/@state.state/Deaths">
                  @icons.graph()
                </a>
              }
            </div>
          </div>
        </div>
      </div>
    }
    @common.pagination("country/states/" + country, column, order, page, pages)
  </div>
}